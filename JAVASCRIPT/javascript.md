# javascript.md

## javascript

## var, let, const

### var

```jsx
var a = 5; 
console.log(a); // 5

var a = 10;
console.log(a); // 10

a = 15;
console.log(a); // 15
```

ì¤‘ë³µ ì„ ì–¸ê³¼ ì¬í• ë‹¹ì´ ëª¨ë‘ ê°€ëŠ¥

í•¨ìˆ˜ë‹¨ìœ„ ìŠ¤ì½”í”„

í˜¸ì´ìŠ¤íŒ…(ë³€ìˆ˜ ë° í•¨ìˆ˜ ì„ ì–¸ì´ ì½”ë“œ ì‹¤í–‰ ì „ì— ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ì €ì¥ë˜ëŠ” ê²ƒ) ë°œìƒ

### let

```jsx
let a = 5;
let a = 10;
cnosole.log(a); // SyntaxError: Identifier 'a' has already been declared
```

ì¤‘ë³µ ì„ ì–¸ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì¬í• ë‹¹ê°€ëŠ¥

ë¸”ë¡ë‹¨ìœ„ ìŠ¤ì½”í”„

`let`ê³¼ `const`ë„ ì„ ì–¸ì€ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ë§Œ, **ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŒ**.

TDZ(Temporal Dead Zone, ì¼ì‹œì  ì‚¬ê°ì§€ëŒ€)\*\*ì— ìˆê¸° ë•Œë¬¸ì— ì„ ì–¸ ì „ì— ì ‘ê·¼í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒ.

### const

```jsx
const a = 5;
const a = 10;
cnosole.log(a); // SyntaxError: Identifier 'a' has already been declared
```

ì¤‘ë³µì„ ì–¸, ì¬í• ë‹¹ ëª¨ë‘ ë¶ˆê°€

ë¸”ë¡ë‹¨ìœ„ ìŠ¤ì½”í”„

| ì„ ì–¸ ë°©ì‹   | í˜¸ì´ìŠ¤íŒ… ì—¬ë¶€ | ì´ˆê¸°í™” ì—¬ë¶€             | TDZ(Temporal Dead Zone) ì˜í–¥ |
| ------- | ------- | ------------------ | -------------------------- |
| **var** | O       | O (`undefined` í• ë‹¹) | X                          |
| **let** | O       | X                  | O                          |
| **let** | O       | X                  | O                          |

#### **ğŸ“Œ varì˜ ë‹¨ì ê³¼ ë¬¸ì œì **

#### **1. ë³€ìˆ˜ ìŠ¤ì½”í”„ ë¬¸ì œ (í•¨ìˆ˜ ìŠ¤ì½”í”„ vs ë¸”ë¡ ìŠ¤ì½”í”„)**

`var`ëŠ” \*\*í•¨ìˆ˜ ìŠ¤ì½”í”„(function scope)\*\*ë¥¼ ê°€ì§€ë©°, **ë¸”ë¡({})ì„ ë¬´ì‹œ**í•˜ëŠ” íŠ¹ì„±ì´ ìˆì–´.

```jsx
if (true) {
  var x = 10;
}
console.log(x); // 10 (ë¸”ë¡ ë°”ê¹¥ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥)
```

ğŸ“Œ **ë¬¸ì œì :**

* `var`ë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ëŠ” **ë¸”ë¡(`{}`)ì„ ë¬´ì‹œ**í•˜ê³ , **í•¨ìˆ˜ ë‚´ë¶€ê°€ ì•„ë‹ˆë¼ë©´ ì „ì—­ ë³€ìˆ˜ì²˜ëŸ¼ ë™ì‘**í•¨.
* ì˜ˆìƒì¹˜ ëª»í•œ ë³€ìˆ˜ ë³€ê²½ì´ ë°œìƒí•  ìœ„í—˜ì´ ìˆìŒ.

#### **2. í˜¸ì´ìŠ¤íŒ… ë¬¸ì œ (`undefined` ë°œìƒ)**

`var`ëŠ” \*\*í˜¸ì´ìŠ¤íŒ…(hoisting)\*\*ë˜ë©°, ì„ ì–¸ê³¼ ë™ì‹œì— `undefined`ë¡œ ì´ˆê¸°í™”ë¨.

```jsx
console.log(a); // undefined
var a = 5;
console.log(a); // 5
```

ğŸ“Œ **ë¬¸ì œì :**

* `var`ë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ëŠ” **ì½”ë“œ ì‹¤í–‰ ì „ì— ì„ ì–¸ì´ ëŒì–´ì˜¬ë ¤ì§€ì§€ë§Œ(`hoisting`), ê°’ í• ë‹¹ì€ ê·¸ëŒ€ë¡œ ë‘ **.
* ë”°ë¼ì„œ, **ë³€ìˆ˜ì— ì ‘ê·¼í•  ë•Œ `undefined`ê°€ ë‚˜ì˜¤ëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘**ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.

ğŸ”¹ **í•´ê²° ë°©ë²•:**

* `let`ê³¼ `const`ëŠ” ì„ ì–¸ë§Œ í˜¸ì´ìŠ¤íŒ…ë˜ê³ , ì´ˆê¸°í™”ëŠ” ì•ˆ ë˜ë¯€ë¡œ \*\*TDZ(Temporal Dead Zone, ì¼ì‹œì  ì‚¬ê°ì§€ëŒ€)\*\*ë¥¼ í†µí•´ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŒ.

```jsx
console.log(b); // ReferenceError: Cannot access 'b' before initialization
let b = 10;
```

***

#### **3. ì¤‘ë³µ ì„ ì–¸ í—ˆìš© (ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„± ë†’ìŒ)**

`var`ë¡œ ë™ì¼í•œ ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ì„ ì–¸í•´ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ.

```jsx
var name = "Alice";
var name = "Bob";
console.log(name); // "Bob"
```

ğŸ“Œ **ë¬¸ì œì :**

* ë™ì¼í•œ ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ì„ ì–¸í•´ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— **ì˜ˆìƒì¹˜ ëª»í•œ ê°’ ë³€ê²½ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ìŒ**.
* íŠ¹íˆ **í° ì½”ë“œë² ì´ìŠ¤ì—ì„œ ì‹¤ìˆ˜ë¡œ ê°™ì€ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ë””ë²„ê¹…ì´ ì–´ë ¤ì›€**.

ğŸ”¹ **í•´ê²° ë°©ë²•:**

* `let`ê³¼ `const`ëŠ” ì¤‘ë³µ ì„ ì–¸ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒ.

```jsx
let name = "Alice";
let name = "Bob"; // SyntaxError: Identifier 'name' has already been declared

```

***

#### **4. ì „ì—­ ì˜¤ì—¼ ë¬¸ì œ (`window` ê°ì²´ì— ë“±ë¡ë¨)**

`var`ë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ëŠ” **ì „ì—­ ìŠ¤ì½”í”„ì—ì„œ ì„ ì–¸ë  ê²½ìš°, `window` ê°ì²´ì˜ ì†ì„±ì´ ë¨**.

```jsx
var age = 30;
console.log(window.age); // 30
```

ğŸ“Œ **ë¬¸ì œì :**

* ì „ì—­ì—ì„œ ì„ ì–¸ëœ `var` ë³€ìˆ˜ëŠ” **`window` ê°ì²´ì˜ ì†ì„±ì´ ë˜ë¯€ë¡œ, ë‹¤ë¥¸ ì½”ë“œì—ì„œ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ìˆìŒ**.
* **ì „ì—­ ë³€ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§€ê³ , ìœ ì§€ë³´ìˆ˜ì„±ì´ ë–¨ì–´ì§**.

ğŸ”¹ **í•´ê²° ë°©ë²•:**

* `let`ê³¼ `const`ëŠ” ì „ì—­ì—ì„œ ì„ ì–¸í•´ë„ `window` ê°ì²´ì— ë“±ë¡ë˜ì§€ ì•ŠìŒ.

```jsx
let height = 180;
console.log(window.height); // undefined
```

***

#### **ğŸ“Œ ê²°ë¡ : var ëŒ€ì‹  letê³¼ constë¥¼ ì‚¬ìš©í•˜ì!**

| ë‹¨ì        | ë¬¸ì œì                    | í•´ê²°ì±…                           |
| -------- | --------------------- | ----------------------------- |
| í•¨ìˆ˜ ìŠ¤ì½”í”„   | `{}` ë‚´ë¶€ì—ì„œ ì„ ì–¸í•´ë„ ë¸”ë¡ ë¬´ì‹œ  | `let`, `const` ì‚¬ìš© (ë¸”ë¡ ìŠ¤ì½”í”„ ì ìš©) |
| í˜¸ì´ìŠ¤íŒ… ë¬¸ì œ  | `undefined` ë°œìƒ        | `let`, `const` ì‚¬ìš© (TDZ ì ìš©)    |
| ì¤‘ë³µ ì„ ì–¸ í—ˆìš© | ë³€ìˆ˜ ê°’ì´ ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ ë³€ê²½ë  ê°€ëŠ¥ì„± | `let`, `const` ì‚¬ìš© (ì¤‘ë³µ ì„ ì–¸ ê¸ˆì§€)  |
| ì „ì—­ ì˜¤ì—¼ ë¬¸ì œ | `window` ê°ì²´ì— ë“±ë¡ë¨      | `let`, `const` ì‚¬ìš© (ì „ì—­ ì˜¤ì—¼ ë°©ì§€)  |

***

#### **setTimeout í•¨ìˆ˜ì— ëŒ€í•´ ì•„ëŠ”ê°€?**

`setTimeout`ì€ íŠ¹ì • ì‹œê°„ì´ ì§€ë‚œ í›„ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ì˜ˆì•½í•˜ëŠ” í•¨ìˆ˜ë‹¤.

* `setTimeout`ì€ **ë¹„ë™ê¸° í•¨ìˆ˜**ì´ë¯€ë¡œ ë°”ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê³  **ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ í†µí•´ ì¼ì • ì‹œê°„ í›„ ì‹¤í–‰ë¨**.
* ì‹¤ì œë¡œ **ì •í™•í•œ ì‹œê°„ í›„ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìµœì†Œí•œ ê·¸ ì‹œê°„ì´ ì§€ë‚˜ì•¼ ì‹¤í–‰ë  ìˆ˜ ìˆìŒ** (ì´ë²¤íŠ¸ ë£¨í”„ ìƒíƒœì— ë”°ë¼ ë‹¬ë¼ì§).

```jsx
console.log('A');
setTimeout(() => console.log('B'), 1000);
console.log('C');

A  
C  
B  (1ì´ˆ í›„ ì‹¤í–‰)
```

#### **setTimeoutì— ì‹œê°„ì„ 0ìœ¼ë¡œ í•˜ëŠ”ë° ì™œ ê·¸ëŸ°ì§€ ì•„ëŠ”ê°€?**

```jsx
setTimeout(() => console.log('Hello'), 0);
console.log('World');

World
Hello
```

* `setTimeout(() => console.log('Hello'), 0);`ëŠ” **ì¦‰ì‹œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìµœì†Œí•œ 0ms í›„ ì‹¤í–‰ ëŒ€ê¸° ìƒíƒœê°€ ë¨**.
* ì¦‰, ì½œë°±ì€ **Call Stackì´ ë¹„ì›Œì§„ í›„ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ í†µí•´ ì‹¤í–‰ë˜ë¯€ë¡œ, ë™ê¸° ì½”ë“œê°€ ë¨¼ì € ì‹¤í–‰ë¨**.
* ì£¼ë¡œ **í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì½”ë“œê°€ ëë‚œ í›„ ì‹¤í–‰ë˜ë„ë¡ ì˜ˆì•½í•  ë•Œ** ì‚¬ìš©ë¨.

### Eventloop

![image.png](../.gitbook/assets/javascript-1.png)

* **Heap**: ë©”ëª¨ë¦¬ í• ë‹¹ì´ ë°œìƒí•˜ëŠ” ê³³
* **Call Stack** : ì‹¤í–‰ëœ ì½”ë“œì˜ í™˜ê²½ì„ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°, í•¨ìˆ˜ í˜¸ì¶œ ì‹œ Call Stackì— push ë©ë‹ˆë‹¤. (Call Stackì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ [**ì—¬ê¸°**](https://medium.com/sjk5766/call-stack%EA%B3%BC-execution-context-%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90-3c877072db79))
* **Web APIs**: DOM, AJAX, setTimeout ë“± ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” API
* **Callback Queue,** **Event Loop, Event Table**(ê·¸ë¦¼ì—” ì—†ìŒ) ì€ ì•„ë˜ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
* **Callback Queue**: \*\*\*\*ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì‹¤í–‰í•´ì•¼ í•  callback í•¨ìˆ˜ê°€ \*\*`Callback Queue`\*\*ì— ì¶”ê°€ë©ë‹ˆë‹¤.
* **Event Loop**: \*\*\*\*Event Loopì˜ ì—­í• ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.1. \*\*`Call Stack`\*\*ê³¼ \*\*`Callback Queue`\*\*ë¥¼ ê°ì‹œí•©ë‹ˆë‹¤.2. Call Stackì´ **`ë¹„ì–´ìˆì„ ê²½ìš°`**, Callback queueì—ì„œ í•¨ìˆ˜ë¥¼ êº¼ë‚´ Call Stackì— ì¶”ê°€ í•©ë‹ˆë‹¤.

ì˜ˆì œë¥¼ ë³´ë©´ì„œ í™•ì¸í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ìœ„ ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œ ê° êµ¬ì„±ìš”ì†Œë“¤ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ìˆœì„œëŒ€ë¡œ ë³´ê² ìŠµë‹ˆë‹¤.

1.console.log(â€˜firstâ€™)ê°€ \*\*`Call Stack`\*\*ì— ì¶”ê°€(push) ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*4EaPBPfpIL6utcDx3p8ADQ.png)

2. console.log(â€˜firstâ€™)ê°€ ì‹¤í–‰ë˜ì–´ í™”ë©´ì— ì¶œë ¥í•œ ë’¤, \*\*`Call Stack`\*\*ì—ì„œ ì œê±°(pop) ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*PwakYdn4mtjuICaSc-ZdRA.png)

3.setTimeout(function cb() {..}) ì´ \*\*`Call Stack`\*\*ì— ì¶”ê°€ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*xg5kgdQ7MCZg3KQHofkOfw.png)

4. setTimeout í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ Browserê°€ ì œê³µí•˜ëŠ” timer Web API ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. ê·¸ í›„ Call Stackì—ì„œ ì œê±°ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*ArTCRvwxJb6unp8mrrdKuw.png)

5. console.log(â€˜thirdâ€™)ê°€ \*\*`Call Stack`\*\*ì— ì¶”ê°€ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*T5YHeQPhKYILSJzhxCI0kA.png)

6. console.log(â€˜thirdâ€™)ê°€ ì‹¤í–‰ë˜ì–´ í™”ë©´ì— ì¶œë ¥ë˜ê³  Call Stackì—ì„œ ì œê±°ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*dtermel81JQyAyx5maKloA.png)

7. setTimeout í•¨ìˆ˜ì— ì „ë‹¬í•œ 0ms ì‹œê°„ì´ ì§€ë‚œë’¤ Callbackìœ¼ë¡œ ì „ë‹¬í•œ cb í•¨ìˆ˜ê°€ \*\*`Callback Queue`\*\*ì— ì¶”ê°€ë©ë‹ˆë‹¤. (ì´ ë¶€ë¶„ì€ ë‹¤ë¥¸ì˜ˆì‹œì™€ í•¨ê»˜ ë’¤ì—ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.)

![](https://miro.medium.com/v2/resize:fit:700/1*-cWDDiLfk3sS6tp-SdAbbQ.png)

8\. \*\*`Event Loop`\*\*ëŠ” \*\*`Call Stack`\*\*ì´ **ë¹„ì–´ìˆëŠ” ê²ƒì„ í™•ì¸**í•˜ê³  \*\*`Callback Queue`\*\*ë¥¼ ì‚´í´ë´…ë‹ˆë‹¤. cbë¥¼ ë°œê²¬í•œ \*\*`Event Loop`\*\*ëŠ” \*\*`Call Stack`\*\*ì— cbë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*EuSA9pVVfJFoyud9-fll7Q.png)

9. cb í•¨ìˆ˜ê°€ ì‹¤í–‰ ë˜ê³  ë‚´ë¶€ì˜ console.log(â€˜secondâ€™)ê°€ \*\*`Call Stack`\*\*ì— ì¶”ê°€ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*JnU8RLPuDBPBvi3qUem2sA.png)

10. console.log(â€˜secondâ€™)ê°€ í™”ë©´ì— ì¶œë ¥ë˜ê³  Call Stackì—ì„œ ì œê±°ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*AdQGGlDmTTaH6Q1U7t4tSw.png)

11. cbê°€ \*\*`Call Stack`\*\*ì—ì„œ ì œê±°ë©ë‹ˆë‹¤.

![](https://miro.medium.com/v2/resize:fit:700/1*EUykFXdjzZE-X5hMBd15Qg.png)

**`Event Loop` -** Call Stackì´ ë¹„ì–´ìˆì„ ê²½ìš°, Callback queueì—ì„œ í•¨ìˆ˜ë¥¼ êº¼ë‚´ Call Stackì— ì¶”ê°€ í•©ë‹ˆë‹¤
