# Hook 정리 및 요약

## 1) useContext Hook

### 한 줄 정의

`useContext`는 **Context에 저장된 값을 하위 컴포넌트 어디서든 꺼내 쓰게 해주는 Hook**입니다. “props로 계속 내려주던 값”을 **트리 전체에 공유**할 때 씁니다.

### 언제 쓰나 (대표 사례)

- 로그인 사용자/인증 상태(auth)
- 전역 설정(언어, 지역, 포맷)
- 테마/다크모드
- 공통 UI 상태(모달/토스트 등) _단, 빈번히 바뀌면 주의_

### 장점

- **Props drilling(깊은 전달)** 방지
- 상위-하위 간 결합도를 낮추고, 공통 관심사를 한 곳에 모을 수 있음

### 주의점(문제점의 핵심)

- **Context 값이 변경되면, 그 Context를 “구독”하는 모든 컴포넌트가 리렌더링**될 수 있음
  → 특히 value에 `{}` 객체를 매번 새로 만들거나, 빈번히 변하는 값을 넣으면 성능/예측성이 나빠질 수 있습니다.

### 실무적 해결 패턴

- **Context 분리**: “자주 바뀌는 값”과 “거의 안 바뀌는 값”을 다른 Context로 나눔
- **value 메모이제이션**: `useMemo`로 Provider value 객체 재생성 최소화
- **상태 관리 라이브러리 도입**: 전역 상태가 커지고 업데이트가 잦으면
  Redux/MobX(무거운 편), Zustand/Recoil/Jotai(가벼운 편) 등으로 “구독 단위”를 더 잘게 쪼갬

---

## 2) Custom Hook (커스텀 훅)

### 한 줄 정의

커스텀 훅은 **상태/이펙트/로직을 재사용 가능한 함수로 추출**한 것입니다. 이름은 관례적으로 `useSomething` 형태.

### 목적

- 컴포넌트가 UI와 로직이 섞여 복잡해지는 것을 방지
- “데이터 패칭”, “폼 검증”, “토글/모달 제어”, “디바운스” 같은 로직을 표준화

### 핵심 규칙

- **Hook 규칙 그대로 적용**: 조건문/반복문 안에서 훅 호출 금지 등
- 커스텀 훅은 **UI를 렌더링하지 않고 로직만 제공** (필요한 값/함수 반환)

---

## 3) Controlled Component (제어 컴포넌트)

### 한 줄 정의

폼 입력값(input/select/textarea)을 **React state가 단일 진실 소스(Single Source of Truth)**로 관리하는 방식입니다.

### 특징

- `value={state}` + `onChange={setState}` 패턴
- 입력값을 React가 “제어”하므로 **검증/포맷/조건부 비활성화** 같은 요구사항에 강함

### 장단점

- 장점: 입력값 추적/검증/동기화가 쉬움 (실무에서 대부분 이 방식)
- 단점: 입력이 많고 잦으면 리렌더링 부담이 있을 수 있어 최적화 고려(분리, 메모 등)

_(참고: Uncontrolled는 ref로 DOM 값을 읽는 방식. 간단 폼/성능 이슈/레거시 통합에 사용)_

---

## 4) React Router 요약

### 역할

SPA에서 **URL ↔ 화면 컴포넌트 매핑**(라우팅)과 이동, 파라미터, 중첩 라우트 등을 담당합니다.

### 자주 쓰는 개념

- **Route/Routes**: 경로별로 렌더링할 컴포넌트 정의
- **Link/NavLink**: 페이지 새로고침 없이 이동
- **useParams**: `/users/:id` 같은 동적 파라미터 읽기
- **useSearchParams**: 쿼리스트링 관리
- **Outlet**: 중첩 라우트 렌더링 지점
- **useNavigate**: 코드로 페이지 이동

---

## 5) useNavigate Hook

### 한 줄 정의

`useNavigate`는 **사용자 액션/비즈니스 로직 이후에 “프로그래밍 방식”으로 라우팅 이동**할 때 씁니다.

### 대표 사용 시나리오

- 로그인 성공 후 `/dashboard`로 이동
- 폼 제출 성공 후 상세 페이지로 이동
- 권한 없으면 `/login`으로 리다이렉트
- 뒤로가기/히스토리 제어

### 실무 팁

- 이동 직전에 “서버 응답 결과/검증 성공” 같은 조건을 확정하고 호출
- replace 이동(히스토리 덮어쓰기)와 같은 UX 고려가 중요

---

## 6) Lifting State Up (상태 끌어올리기)

### 한 줄 정의

여러 컴포넌트가 같은 상태를 공유해야 하면, **그 상태를 가장 가까운 공통 부모로 올려서** 부모가 상태를 가지고 자식에게 내려주는 패턴입니다.

### 언제 필요하나

- 형제 컴포넌트 간 상태 공유(예: 필터 ↔ 리스트)
- 자식 둘 이상이 동일한 입력/선택값을 기반으로 동작해야 할 때

### 장단점

- 장점: 데이터 흐름이 단방향(부모 → 자식)으로 명확
- 단점: 트리가 깊어지면 다시 props drilling이 생길 수 있음
  → 이때 `useContext`나 상태관리 라이브러리 고려

---

## 전체 흐름으로 연결하면 (기억하기 쉬운 구조)

- **형제 간 공유**: 먼저 _Lifting State Up_
- **트리 전체 공유**: _Context(useContext)_
- **복잡/대규모 전역 상태**: _Zustand/Redux 등_
- **폼 입력 제어**: _Controlled Component_
- **페이지 전환**: _React Router + useNavigate_
- **로직 재사용**: _Custom Hook_
